#!/bin/bash

echo "üîê Technology Universe Security Toolkit v0.0.2"
echo "---------------------------------------------"

CURRENT_STATUS=$(spctl --status 2>/dev/null)

echo "Current Gatekeeper Status: $CURRENT_STATUS"

if [[ "$CURRENT_STATUS" == "assessments disabled" ]]; then
    echo "‚ÑπÔ∏è Gatekeeper is already disabled."
    exit 0
fi

echo "‚è≥ Disabling Gatekeeper..."

spctl --global-disable
spctl --master-disable 2>/dev/null

NEW_STATUS=$(spctl --status 2>/dev/null)

echo "---------------------------------------------"
echo "New Gatekeeper Status: $NEW_STATUS"

if [[ "$NEW_STATUS" == "assessments disabled" ]]; then
    echo "‚úÖ Gatekeeper successfully disabled."
else
    echo "‚ö†Ô∏è Warning: Gatekeeper may still be active."
fi

exit 0
